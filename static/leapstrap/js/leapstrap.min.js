/*!
 * Leapstrap v1.1.0 by Alex Wilkes
 * Copyright 2014 Alex Wilkes
 * Licensed under http://www.apache.org/licenses/LICENSE-2.0
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(window.jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(window.jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]');if(a.length){var b=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===b.prop("type")&&a.find(".active").removeClass("active")}this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(window.jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(window.jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?(this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350),void 0):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(window.jQuery),+function(a){"use strict";function b(){a(d).remove(),a(e).each(function(b){var d=c(a(this));d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown"))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b),f.trigger(d=a.Event("show.bs.dropdown")),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a("[role=menu] li:not(.divider):visible a",f);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",f.prototype.keydown)}(window.jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(window.jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),+function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(c).is("body")?a(window):a(c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);{var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})}},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery);var LeapElement=function(a){this.dom=a,this.cursor=null};LeapElement.prototype={isAttractor:function(){return"true"===this.dom.getAttribute("leap-attractor")||null!=this.dom.getAttribute("leap-attractor-x-padding")&&!isNaN(this.dom.getAttribute("leap-attractor-x-padding"))||null!=this.dom.getAttribute("leap-attractor-y-padding")&&!isNaN(this.dom.getAttribute("leap-attractor-y-padding"))},appendChild:function(a){return a instanceof HTMLElement?this.dom.appendChild(a):this.dom.appendChild(a.getDom())},removeChild:function(a){return a instanceof HTMLElement?this.dom.removeChild(a):this.dom.removeChild(a.getDom())},getID:function(){return this.dom.id},setStyle:function(a){for(var b in a)this.dom.style[b]=a[b]},getParent:function(){return this.dom.parentNode},getWidth:function(){return this.dom.offsetWidth},getHeight:function(){return this.dom.offsetHeight},getDom:function(){return this.dom},hasCursor:function(){return null!==this.cursor},capture:function(a){this.cursor=a,this.cursor.capture(this)},release:function(){this.cursor&&(this.cursor.release(),this.cursor=null)},getAttractorPadding:function(){return{x:parseInt(this.dom.getAttribute("leap-attractor-x-padding"),10)||0,y:parseInt(this.dom.getAttribute("leap-attractor-y-padding"),10)||0}},setAttribute:function(a,b){this.dom.setAttribute(a,b)},getClickDelay:function(){return this.dom.getAttribute("leap-click-delay")},hasMultitap:function(){return"true"===this.dom.getAttribute("leap-enable-multitap")},isTappable:function(){return"true"!==this.dom.getAttribute("leap-disable-tap")},isHoverable:function(){return"true"!==this.dom.getAttribute("leap-disable-hover")},hasRelay:function(){return null!==this.dom.getAttribute("leap-relay")},getRelay:function(){var a=this.dom.getAttribute("leap-relay");return a},setXY:function(a,b){this.setX(a),this.setY(b)},setX:function(a){this.dom.style.left=a+"px"},setY:function(a){this.dom.style.top=a+"px"},getX:function(){return this.dom.getBoundingClientRect().left},getY:function(){return this.dom.getBoundingClientRect().top},scroll:function(a){var b=this.dom,c=b.parentElement,d=b.clientHeight>c.clientHeight,e=b.clientWidth>c.clientWidth;b===document.body?d>0&&d>e?this.scrollY(a):e>0&&this.scrollX(a):b.scrollHeight>b.clientHeight?this.scrollY(a):b.scrollWidth>b.clientWidth&&this.scrollX(a)},scrollX:function(a){this.dom.scrollLeft+=a},scrollY:function(a){this.dom.scrollTop+=a},addClass:function(a){var b=this.dom.className;b&&-1!==b.indexOf(a)||(""!==b&&(a=" "+a),this.dom.className=b+a)},removeClass:function(a){var b=this.dom.className,c=new RegExp("\\s?\\b"+a+"\\b","g");b=b.replace(c,""),this.dom.className=b},fireEvent:function(a){this.dom.dispatchEvent(a)}};var LeapManagerUtils=function(){var a={},b="leap_element_",c=0,d={};return{getLeapElement:function(d){return null==d?null:(d.id||(d.id=b+c++),a[d.id]||(a[d.id]=new LeapElement(d)),a[d.id])},isElementVisible:function(a){for(;a!==document.body.parentNode;){if("0"===LeapManagerUtils.getStyle(a,"opacity")||"none"===LeapManagerUtils.getStyle(a,"display")||"hidden"===LeapManagerUtils.getStyle(a,"visibility"))return!1;a=a.parentNode}return!0},getStyle:function(a,b){return window.getComputedStyle?document.defaultView.getComputedStyle(a)[b]:a.currentStyle?a.currentStyle[b]:void 0},extend:function(a,b){for(var c in b)a[c]=b[c]},extendIf:function(a,b){for(var c in b)b[c]instanceof Object&&b[c].constructor===Object?((void 0===a[c]||null===a[c])&&(a[c]={}),LeapManagerUtils.extendIf(a[c],b[c])):(void 0===a[c]||null===a[c])&&(a[c]=b[c])},exists:function(a){return void 0!==a&&null!==a},bind:function(a,b,c){return function(){c||(c=[]),c=Array.prototype.slice.call(arguments).concat(c),a.apply(b,c)}},map:function(a,b,c,d,e){return a===b?d:(a-b)*(e-d)/(c-b)+d},error:function(a){console.log(a)},testStructure:function(a,b){for(var c,d=0;d<b.length;d++)if(c=b[d],"string"==typeof c){if(!LeapManagerUtils.exists(a[c]))return!1;a=a[c]}return!0},createStructure:function(a,b){for(var c,d=!0,e=0;e<b.length;e++)c=b[e],"string"==typeof c&&(LeapManagerUtils.exists(a[c])||(a=a[c]={},d=!1));return d},distance:function(a,b){var c,d;return c=b.x-a.x,c*=c,d=b.y-a.y,d*=d,Math.sqrt(c+d)},getQueryAll:function(a,b,c){return c?(LeapManagerUtils.exists(d[a])||(d[a]=document.querySelectorAll(b)),d[a]):document.querySelectorAll(b)},getQuery:function(a,b){return LeapManagerUtils.exists(d[a])||(d[a]=document.querySelector(b)),d[a]
}}}(),Cursor=function(a){var b="leap-timer-cursor";if(!a)return LeapManagerUtils.error("Cursor#constructor: You must specify a config object."),null;if(!a.source)return LeapManagerUtils.error("Cursor#constructor: You must specify a `source`."),null;if(!a.id)return LeapManagerUtils.error("Cursor#constructor: You must specify a `id`."),null;if(!a.icon)return LeapManagerUtils.error("Cursor#constructor: You must specify a `icon`."),null;if(LeapManagerUtils.extendIf(a,this.defaultConfig),this.source=a.source,this.id=a.id,this.type=a.type,this.icon=a.icon,this.easing=a.easing,this.clickDelay=a.clickDelay,this.multitapEnabled=a.multitapEnabled,this.virtualParent=a.virtualParent||null,this.virtualParent&&(this.type="virtual",this.setElement(this.virtualParent.getElement()),this.virtualParent.addVirtual(this)),this.virtualCursors=[],(0===this.clickDelay||isNaN(this.clickDelay))&&(this.clickDelay=null),this.onTapUpdate=LeapManagerUtils.bind(this._onTapUpdate,this),this.clickDelay&&this.icon.addClass(b),this.icon instanceof HTMLElement&&(this.icon=new LeapElement(this.icon)),a.position){this.update(a.position.x,a.position.y);var c=this.icon.getWidth()/2,d=this.icon.getHeight()/2;this.icon.setX(a.position.x*window.innerWidth+c),this.icon.setY(a.position.y*window.innerHeight+d)}};Cursor.prototype={x:0,y:0,z:0,X:0,Y:0,Z:0,vX:0,vY:0,vZ:0,enabled:!0,captureHost:null,attractor:null,element:null,isTimerRunning:!1,type:"real",startTime:null,animiationIntervalID:null,state:"up",currentClickDelay:0,defaultConfig:{multitapEnabled:!1,clickDelay:0,easing:.3},_tapCapable:!0,_startPoint:null,onAdded:function(){},onRemoved:function(){},setManager:function(a){this.manager=a},setEnabled:function(a){this.enabled=a},isEnabled:function(){return this.enabled},setElement:function(a){this.element=a},getElement:function(){return this.element},hasElement:function(){return null!==this.element},onElementOver:function(a){this.setElement(a),this.currentClickDelay=this.element.getClickDelay()||this.clickDelay,a.isHoverable()&&a.addClass("hover"),this._tapCapable&&this.manager.isHoverTapEnabled()&&this.currentClickDelay&&a.isTappable()&&this.startTimer()},onElementDown:function(a){a.addClass("leap-down"),this.icon.addClass("cursor-down"),this.state="down"},onElementMove:function(){},onElementUp:function(a){this.state="up",a.removeClass("leap-down"),this.icon.removeClass("cursor-down")},onElementOut:function(a){a.isHoverable()&&a.removeClass("hover"),this.manager.isHoverTapEnabled()&&this.currentClickDelay&&a.isTappable()&&this.stopTimer(),this.setElement(null)},isDown:function(){return"down"===this.state},disableTap:function(){this.element&&(this.element.isHoverable()&&this.element.removeClass("hover"),this.currentClickDelay&&this.element.isTappable()&&this.stopTimer()),this._tapCapable=!1},restartTap:function(){this._tapCapable=!0},setAttractor:function(a){this.attractor=a},hasAttractor:function(){return null!==this.attractor},capture:function(a){this.captureHost=a,this.setAttractor(null)},isCaptured:function(){return null!=this.captureHost},release:function(){this.captureHost=null},update:function(a,b,c){this.setPositionX(a),this.setPositionY(b),this.setPositionZ(c)},setPositionX:function(a){this.X=a-this.x,this.x=a},setPositionY:function(a){this.Y=a-this.y,this.y=a},setPositionZ:function(a){this.Z=a-this.z,this.z=a},getX:function(){return this.x},getY:function(){return this.y},getZ:function(){return this.z},setVelocityXYZ:function(a,b,c){this.setVelocityX(a),this.setVelocityY(b),this.setVelocityZ(c)},setVelocityX:function(a){this.vX=a},setVelocityY:function(a){this.vY=a},setVelocityZ:function(a){this.vZ=a},getVelocityX:function(){return this.vX},getVelocityY:function(){return this.vY},getVelocityZ:function(){return this.vZ},getEasing:function(){return this.easing},fireEvent:function(a){this.element&&(a.cursor=this,this.element.fireEvent.apply(this.element,[a]))},startTimer:function(){this.animiationIntervalID&&this.stopTimer(),this.startTime=new Date;var a=this;this.animiationIntervalID=setInterval(function(){a.onTapUpdate()},1e3/30),this.onTimerStart()},stopTimer:function(){clearInterval(this.animiationIntervalID),this.startTime=null,this.onTimerStop()},isVirtual:function(){return"virtual"===this.type},addVirtual:function(a){this.virtualCursors.push(a)},_onTapUpdate:function(){if(!this.startTime)return this.stopTimer(),void 0;var a=new Date,b=a-this.startTime;this.onTimerUpdate(b),b>=this.currentClickDelay&&(this.stopTimer(),this.onTimerComplete())},onTimerStart:function(){this.icon.setStyle({transitionDuration:this.currentClickDelay/1e3+"s"}),this.icon.addClass("active-timer")},onTimerStop:function(){this.icon.setStyle({transitionDuration:"0s"}),this.icon.removeClass("active-timer")},onTimerUpdate:function(){},onTimerComplete:function(){if(this.element)if(this.dispatchDown(),this.dispatchUp(),this.dispatchClick(),this.dispatchTap(),this.multitapEnabled||this.element.hasMultitap()){var a=this;setTimeout(function(){a.startTimer()},100)}else this.release();else this.release()},initEvent:function(a,b){var c,d=document.createEvent(a),e=[b,!0,!0,window,1,this.icon.getX(),this.icon.getY(),this.icon.getX(),this.icon.getY(),!1,!1,!1,!1,0,this.element.getDom()];return c="MouseEvent"===a?d.initMouseEvent:"UIEvent"===a?d.initUIEvent:d.initEvent,c.apply(d,e),d},initAndFireEvent:function(a,b){var c=this.initEvent(a,b);this.fireEvent(c)},dispatchOver:function(a){a&&this.setElement(a),this.hasElement()&&(this.initAndFireEvent("MouseEvent","mouseover"),this.onElementOver(this.element))},dispatchMove:function(a){a&&this.setElement(a),this.hasElement()&&(this.initAndFireEvent("MouseEvent","mousemove"),this.onElementMove(this.element),this.manager.isPressDownEnabled()&&this.element.isTappable()&&(!this.isDown()&&this.getZ()<this.manager.getPressThreshold()?this.dispatchDown(a):this.isDown()&&this.getZ()>this.manager.getPressThreshold()&&this.dispatchUp(a)))},dispatchOut:function(a){a&&this.setElement(a),this.hasElement()&&(this.initAndFireEvent("MouseEvent","mouseout"),this.isDown()&&this.dispatchUp(a,!1),this.onElementOut(this.element))},dispatchDown:function(a){a&&this.setElement(a),this._startPoint={x:this.icon.getX(),y:this.icon.getY()},this.hasElement()&&(this.initAndFireEvent("MouseEvent","mousedown"),this.onElementDown(this.element))},dispatchUp:function(a,b){if(LeapManagerUtils.exists(b)||(b=!0),a&&this.setElement(a),this.hasElement()){this.initAndFireEvent("MouseEvent","mouseup"),this.onElementUp(this.element);var c=LeapManagerUtils.distance(this._startPoint,{x:this.icon.getX(),y:this.icon.getY()});b&&c>0&&100>c&&(this.dispatchClick(),this.dispatchTap())}},dispatchClick:function(a){a&&this.setElement(a),this.hasElement()&&this.initAndFireEvent("MouseEvent","click")},dispatchTap:function(a){a&&this.setElement(a),this.hasElement()&&this.initAndFireEvent("UIEvent","tap")}};var HandCursor=function(a){var b="open",c="grab",d="closed",e="grab",f="release",g="move",h="grabbed",i="leap-cursor-grabbing",j=new Cursor(a);return LeapManagerUtils.extend(j,{isHand:!0,lastOpenTime:new Date,grabDelay:200,handState:null,isOutside:!1,update:function(a,h,i,j){var k;if(Cursor.prototype.update.apply(this,arguments),this.hasElement()){if(null===this.handState)return this.handState=d,void 0;this.handState!==c&&j>2?(this.handState=b,this.lastOpenTime=new Date):this.handState===c&&2>=j?this.dispatchGrab(g):this.handState===c&&j>2?(this.handState=b,this.dispatchGrab(f)):this.handState===b&&2>=j&&(k=new Date-this.lastOpenTime,k<this.grabDelay?(this.handState=c,this.dispatchGrab(e)):this.handState=d)}},dispatchGrab:function(a){var b;this.hasElement()&&(b=this.initEvent("MouseEvent","leap-hand-grab"),b.state=a,b.gesture="grab",this.element.fireEvent(b)),this.hasElement()&&(a===e?(this.element.addClass(h),j.icon.addClass(i)):a===f&&(this.element.removeClass(h),j.icon.removeClass(i),this.isOutside&&this.setElement(null)))},onElementOver:function(){this.isOutside=!1,Cursor.prototype.onElementOver.apply(this,arguments)},onElementOut:function(a){this.handState!==c?Cursor.prototype.onElementOut.apply(this,arguments):(this.isOutside=!0,a.isHoverable()&&a.removeClass("hover"),this.manager.isHoverTapEnabled()&&this.currentClickDelay&&a.isTappable()&&this.stopTimer())}}),j},CursorManager=function(a){if(this.globalInteractiveSelector=".leap-interactive",this.cursorContainerClass="leap-cursor-container",this.leapCursorClass="leap-cursor",this.interactiveSelector=a.interactiveSelector||null,this.untappableSelector=a.untappableSelector||null,this.pressThreshold=a.pressThreshold||0,this.enableHoverTap=a.enableHoverTap===!0,this.enablePressDown=a.enablePressDown===!0,this.greedySelector=a.greedySelector||null,this.cacheAllQueries=a.cacheAllQueries||!1,!this.cursorContainer){this.cursorContainer=new LeapElement(document.createElement("div"));var b=a.root||document.body;b.appendChild(this.cursorContainer.getDom()),this.cursorContainer.addClass(this.cursorContainerClass),this.cursorContainer.setStyle({zIndex:1e5,position:"fixed",top:"0px",left:"0px"})}};CursorManager.prototype={cursorContainer:null,elementLookup:{},mouseEvent:null,interactiveSelector:"",cursorLookup:{},isHoverTapEnabled:function(){return this.enableHoverTap===!0},isPressDownEnabled:function(){return this.enablePressDown===!0},getPressThreshold:function(){return this.pressThreshold||0},get:function(a,b,c){return null==c&&(c="real"),LeapManagerUtils.createStructure(this.cursorLookup,[c,a]),this.cursorLookup[c][a][b]},add:function(a){var b=a.type||"real",c=a.source||"default",d=a.id||0;return LeapManagerUtils.createStructure(this.cursorLookup,[b,c]),LeapManagerUtils.exists(this.cursorLookup[b][c][d])?this.cursorLookup[b][c][d]:(this.cursorLookup[b][c][d]=a,this.cursorContainer.appendChild(a.icon),a.icon.addClass(this.leapCursorClass),a.setManager(this),a.onAdded(),a)},remove:function(a){{var b=a.type||"real",c=a.source||"default";a.id||0}if(!a.isVirtual()&&LeapManagerUtils.testStructure(this.elementLookup,[a.source,a.id])){var d=this.elementLookup[a.source][a.id];d&&d.isAttractor()&&(a.setAttractor(null),d.hasCursor()&&d.release()),d&&this.cursorOut(a,d,{x:a.icon.getX(),y:a.icon.getY()}),this.elementLookup[a.source][a.id]=null}for(var e,f=0;f<a.virtualCursors.length;f++)e=a.virtualCursors[f],this.removeVirtualCursor(e);return a.virtualCursors=[],a.setManager(null),a.onRemoved(),LeapManagerUtils.exists(a.icon.getParent())&&this.cursorContainer.removeChild(a.icon),LeapManagerUtils.testStructure(this.cursorLookup,[b,c])&&(this.cursorLookup[b][c][a.id]=null,delete this.cursorLookup[b][c][a.id]),!0},pruneCursors:function(a,b,c){if(LeapManagerUtils.exists(c)||(c="real"),LeapManagerUtils.testStructure(this.cursorLookup,[c,a])){var d,e,f=[];for(e in this.cursorLookup[c][a])d=this.cursorLookup[c][a][e],d instanceof Cursor&&-1===b.indexOf(d.id)&&f.push(d);for(var g=0;g<f.length;g++)this.remove(f[g])}},update:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=.1,r=1;for(n in this.cursorLookup)for(o in this.cursorLookup[n])for(p in this.cursorLookup[n][o])if(m=this.cursorLookup[n][o][p],m instanceof Cursor){if(m.isVirtual()){m.icon.setX(m.icon.getX()+m.getVelocityX()),m.icon.setY(m.icon.getY()+m.getVelocityY());continue}if(this.elementLookup[m.source]||(this.elementLookup[m.source]={}),this.elementLookup[m.source][m.id]||(this.elementLookup[m.source][m.id]=null),a={x:Math.round(m.getX()*window.innerWidth),y:Math.round(m.getY()*window.innerHeight)},k=this.elementLookup[m.source][m.id],!m.isEnabled()){k&&(k.isAttractor()&&(m.setAttractor(null),k.hasCursor()&&k.release()),this.cursorOut(m,k),this.elementLookup[m.source][m.id]=null);continue}g=m.icon.getWidth()/2,h=m.icon.getHeight()/2,m.isCaptured()||(m.attractor?(l=m.attractor.getDom(),i=l.getBoundingClientRect(),b={x:Math.round(i.left+i.width/2-g),y:Math.round(i.top+i.height/2-h)},c=b.x-m.icon.getX(),d=b.y-m.icon.getY(),e=Math.abs(c/(i.width/2)),f=Math.abs(d/(i.height/2)),e>1&&(e=1),f>1&&(f=1),e=Math.abs(1-e),f=Math.abs(1-f),m.setVelocityXYZ(c*Math.max(q,Math.min(r,e)),d*Math.max(q,Math.min(r,f)),0),Math.abs(m.getVelocityX())<=.1&&Math.abs(m.getVelocityY())<=.1&&(m.setVelocityXYZ(0,0,0),m.icon.setX(b.x),m.icon.setY(b.y),m.attractor.capture(m))):(c=a.x-g-m.icon.getX(),d=a.y-h-m.icon.getY(),m.setVelocityXYZ(c*m.getEasing(),d*m.getEasing()))),m.icon.setX(m.icon.getX()+m.getVelocityX()),m.icon.setY(m.icon.getY()+m.getVelocityY()),k=this.getCollidingElements(a),j=this.elementLookup[m.source][m.id],k&&(null==j&&(this.elementLookup[m.source][m.id]=k,k.isAttractor()&&!k.hasCursor()&&null==m.attractor&&null==m.captureHost&&m.setAttractor(k),this.cursorOver(m,k)),this.cursorMove(m,k)),j&&j!==k&&(j.isAttractor()&&(m.setAttractor(null),j.hasCursor()&&j.release(m)),this.cursorOut(m,j),this.elementLookup[m.source][m.id]=k,k&&(this.cursorOver(m,k),k.isAttractor()&&null==m.attractor&&null==m.captureHost&&(k.hasCursor()||m.setAttractor(k))))}},cursorOver:function(a,b){a.dispatchOver(b)},cursorMove:function(a,b){a.dispatchMove(b)},cursorOut:function(a,b){a.dispatchOut(b)},cursorDown:function(a,b){a.dispatchDown(b)},cursorUp:function(a,b){a.dispatchUp(b)},getCollidingElements:function(a){var b=this.globalInteractiveSelector;"string"==typeof this.interactiveSelector&&this.interactiveSelector.length>0&&(b+=", "+this.interactiveSelector);var c,d,e,f,g,h,i,j=LeapManagerUtils.getQueryAll("interactiveElements",b,this.cacheAllQueries)||[];for(e=j.length-1;e>=0;e--)if(f=j[e],LeapManagerUtils.isElementVisible(f)&&(g=f.getBoundingClientRect(),f=LeapManagerUtils.getLeapElement(f),f&&(c=f.isAttractor()?f.getAttractorPadding().x:0,d=f.isAttractor()?f.getAttractorPadding().y:0,h=a.x>g.left-c&&a.x<g.left+g.width+c,i=a.y>g.top-d&&a.y<g.top+g.height+d,h&&i&&(f.hasRelay()&&(f=LeapManagerUtils.getLeapElement(LeapManagerUtils.getQuery(f.getID()+"-relay",f.getRelay()))),f)))){if(f.isTappable()&&"string"==typeof this.untappableSelector&&this.untappableSelector.length>0){var k=LeapManagerUtils.getQueryAll("untappableElements",this.untappableSelector,this.cacheAllQueries)||[];for(e=0;e<k.length;e++)if(k[e]===f.getDom()){f.setAttribute("leap-disable-tap","true");break}}return f}return null!==this.greedySelector?(f=LeapManagerUtils.getLeapElement(LeapManagerUtils.getQuery("greedySelector",this.greedySelector)),f.hasRelay()&&(f=LeapManagerUtils.getLeapElement(LeapManagerUtils.getQuery(f.getID()+"-relay",f.getRelay()))),f):null},getVirtualCursor:function(a,b){return this.get(a,b,"virtual")},addVirtualCursor:function(a){return this.add(a)},removeVirtualCursor:function(a){return this.remove(a)}};var MouseSimulator=function(){var a="leap-mouse-cursor";return{cursorManager:null,mouseCursor:null,init:function(b,c){this.cursorManager=b;var d=new LeapElement(document.createElement("div"));d.addClass(a);var e={source:"mouse",id:1,icon:d};LeapManagerUtils.extendIf(e,c),this.mouseCursor=new Cursor(e),this.enable()},enable:function(){this._onMouseMove=LeapManagerUtils.bind(this.onMouseMove,this),this._onMouseClick=LeapManagerUtils.bind(this.onMouseClick,this),document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("click",this._onMouseClick),this.cursorManager.add(this.mouseCursor)},disable:function(){this.mouseCursor&&(document.removeEventListener("mousemove",this._onMouseMove),document.removeEventListener("click",this._onMouseClick),this.cursorManager.remove(this.mouseCursor),this.mouseCursor=null)},update:function(a,b,c){this.mouseCursor.update(a,b,c)},onMouseMove:function(a){a=a||window.e;var b=0,c=0,d=0;a.pageX||a.pageY?(b=a.pageX,c=a.pageY):(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,c=a.clientY+document.body.scollTop+document.documentElement.scrollTop),b/=window.innerWidth,c/=window.innerHeight,d=this.currentZ,this.update(b,c,d)},onMouseClick:function(){}}}(),DualSwipe=function(a,b,c){this.firstGesture=a,this.secondGesture=b,this.direction=c,this.type="dual-swipe",this.state="stop"},LeapManager=function(){"use strict";var a="leap-pointable-cursor",b="leap-pointable-virtual-cursor",c="leap-pointable-virtual-scroller-cursor",d="leap",e={maxCursors:1,useHands:!1,enableTouchScrolling:!1,enableScrollbarScrolling:!0,enableHoverTap:!0,enablePressDown:!1,pressThreshold:0,simulateWithMouse:!1,enableInBackground:!1,cacheQueries:!0,enableMetaGestures:!0,enableDefaultMetaGestureActions:!0,metaGestureMaxDelay:1200,greedySelector:null,cacheAllQueries:!1,root:null,gestureCallback:null,gestureScope:null,frameCallback:null,interactiveSelector:null,enableSenchaTouch:!1,boundary:{top:350,left:-100,right:100,bottom:150},touchScrollingConfig:{scrollVector:{x:0,y:1,z:0},scrollMaxSpeed:7,scrollMinSpeed:2,scrollMaxDuration:6},scrollbarScrollingConfig:{resetDelay:1e3,scrollMaxSpeed:7,scrollMinSpeed:2,scrollMaxDuration:6},cursorConfig:{multitapEnabled:!1,clickDelay:1e3},mouseCursorConfig:{multitapEnabled:!1,clickDelay:1e3},loopConfig:{enableGestures:!0}};return{cursorManager:null,gestureHistory:{},init:function(a){LeapManagerUtils.extendIf(a,e),this.boundary=a.boundary,this.maxCursors=a.maxCursors,this.simulateWithMouse=a.simulateWithMouse,this.gestureCallback=a.gestureCallback,this.gestureScope=a.gestureScope,this.frameCallback=a.frameCallback,this.cursorConfig=a.cursorConfig,this.enableTouchScrolling=a.enableTouchScrolling,this.touchScrollingConfig=a.touchScrollingConfig,this.enableScrollbarScrolling=a.enableScrollbarScrolling,this.scrollbarScrollingConfig=a.scrollbarScrollingConfig,this.enableMetaGestures=a.enableMetaGestures,this.enableDefaultMetaGestureActions=a.enableDefaultMetaGestureActions,this.metaGestureMaxDelay=a.metaGestureMaxDelay||500,this.useHands=a.useHands,a.enableSenchaTouch&&(null==a.interactiveSelector?a.interactiveSelector="":a.interactiveSelector+=",",a.interactiveSelector+=["a",".x-tab",".x-button",".x-video-ghost",".x-scroll-scroller",".x-list-item"].join(","),a.untappableSelector=[".x-scroll-scroller"].join(", ")),this.cursorManager=new CursorManager({root:a.root,interactiveSelector:a.interactiveSelector,untappableSelector:a.untappableSelector,enableHoverTap:a.enableHoverTap,enablePressDown:a.enablePressDown,pressThreshold:a.pressThreshold,greedySelector:a.greedySelector,cacheAllQueries:a.cacheAllQueries}),this.simulateWithMouse&&MouseSimulator.init(this.cursorManager,a.mouseCursorConfig||{});var b=this;b.isActiveWindow=!0,a.enableInBackground||(window.addEventListener("blur",function(){b.isActiveWindow=!1}),window.addEventListener("focus",function(){b.isActiveWindow=!0}));var c=function(a){b.onLoop(a)};null!==Leap&&Leap.loop(a.loopConfig,c)},onLoop:function(a){this.isActiveWindow&&(this.cursorManager.update(),this.useHands?this.updateHands(a):(this.updatePointables(a),this.updateGestures(a)),this.frameCallback&&this.frameCallback.call(this,a))},updatePointables:function(a){var b,c,e,f,g,h,i=[];if(a&&a.pointables)for(c=0;c<a.pointables.length&&c<this.maxCursors;c++)b=a.pointables[c],b&&(f=LeapManagerUtils.map(b.tipPosition[0],this.boundary.left,this.boundary.right,0,1),g=LeapManagerUtils.map(b.tipPosition[1],this.boundary.bottom,this.boundary.top,1,0),h=b.tipPosition[2],e=this.getCursor(b.id,{x:f,y:g,z:h}),i.push(e.id),e.update(f,g,h));this.cursorManager.pruneCursors(d,i)},updateHands:function(a){var b,c,e,f,g,h,i=[];if(a&&a.hands)for(c=0;c<a.hands.length&&c<this.maxCursors;c++)b=a.hands[c],b&&(f=LeapManagerUtils.map(b.palmPosition[0],this.boundary.left,this.boundary.right,0,1),g=LeapManagerUtils.map(b.palmPosition[1],this.boundary.bottom,this.boundary.top,1,0),h=b.palmPosition[2],e=this.getCursor(b.id,{x:f,y:g,z:h},!0),i.push(e.id),e.update(f,g,h,b.fingers.length));this.cursorManager.pruneCursors(d,i)},getCursor:function(b,c,e){var f=this.cursorManager.get(d,b);if(f)return f;var g=new LeapElement(document.createElement("div"));g.addClass(a);var h={source:d,id:b,position:c,icon:g};return LeapManagerUtils.extend(h,this.cursorConfig),f=e?new HandCursor(h):new Cursor(h),this.cursorManager.add(f),f},updateGestures:function(e){var f,g=this;e.gestures.length>0&&e.gestures.forEach(function(e){if(e.pointableIds&&e.pointableIds.length>0&&e.pointableIds.forEach(function(h){if(f=g.cursorManager.get(d,h),f instanceof Cursor){if(f.hasElement()){var i=document.createEvent("Event");i.initEvent("leap-"+e.type,!0,!0),i.state=e.state,i.gesture=e,f.element.fireEvent(i),i=document.createEvent("Event"),i.initEvent("leap-"+e.type+"-"+e.state,!0,!0),i.state=e.state,i.gesture=e,f.element.fireEvent(i)}if(g.gestureCallback&&g.gestureCallback.call(g.gestureScope||g,e),(g.enableTouchScrolling||g.enableScrollbarScrolling)&&"circle"===e.type){var j,k={x:LeapManagerUtils.map(e.center[0],g.boundary.left,g.boundary.right,0,1),y:LeapManagerUtils.map(e.center[1],g.boundary.bottom,g.boundary.top,1,0),z:0},l="leap-scroller",m=g.cursorManager.getVirtualCursor(l,e.id);if(g.enableTouchScrolling)if("start"===e.state){f.disableTap(),m&&g.removeVirtualCursor(m);var n=new LeapElement(document.createElement("div"));n.addClass(a),n.addClass(b),n.addClass(c);var o={source:l,id:e.id,position:k,icon:n};o.virtualParent=f,m=new Cursor(o),m.onAdded=function(){this.dispatchDown()},m.onRemoved=function(){this.setVelocityXYZ(0,0,0),this.dispatchUp()},g.cursorManager.addVirtualCursor(m)}else"stop"===e.state&&m?(f.restartTap(),g.cursorManager.removeVirtualCursor(m)):m&&(j=LeapManagerUtils.map(e.duration/1e6,0,g.touchScrollingConfig.scrollMaxDuration,g.touchScrollingConfig.scrollMinSpeed,g.touchScrollingConfig.scrollMaxSpeed),e.normal[2]>0?m.setVelocityXYZ(j*g.touchScrollingConfig.scrollVector.x,j*g.touchScrollingConfig.scrollVector.y,j*g.touchScrollingConfig.scrollVector.z):m.setVelocityXYZ(j*-g.touchScrollingConfig.scrollVector.x,j*-g.touchScrollingConfig.scrollVector.y,j*-g.touchScrollingConfig.scrollVector.z),m.dispatchMove());else if(g.enableScrollbarScrolling)if("start"===e.state){if(LeapManagerUtils.exists(f._lastElementTime)){var p=new Date-f._lastElementTime;p>g.scrollbarScrollingConfig.resetDelay&&(f._scrollElement=f.getElement())}f._lastElementTime=new Date,f.getElement()&&!LeapManagerUtils.exists(f._scrollElement)&&(f._scrollElement=f.getElement()),LeapManagerUtils.exists(f._scrollElement)&&f.disableTap()}else"update"===e.state?LeapManagerUtils.exists(f._scrollElement)&&(f._lastElementTime=new Date,j=LeapManagerUtils.map(e.duration/1e6,0,g.scrollbarScrollingConfig.scrollMaxDuration,g.scrollbarScrollingConfig.scrollMinSpeed,g.scrollbarScrollingConfig.scrollMaxSpeed),e.normal[2]>0?f._scrollElement.scroll(-j):f._scrollElement.scroll(j)):"end"===e.state&&f.restartTap()}}}),g.enableMetaGestures&&"stop"===e.state&&"swipe"===e.type){g.gestureHistory[e.type]instanceof Array||(g.gestureHistory[e.type]=[]),e.timestamp=(new Date).getTime();var h,i,j=0,k=0,l=0,m=!0;for(h=0;(m?2:3)>h;h++)Math.abs(e.direction[h])>j&&(j=Math.abs(e.direction[h]),k=h);if(e._direction=0===k?e.direction[0]>0?"right":"left":1===k?e.direction[1]>0?"up":"down":e.direction[2]>0?"backward":"forward",g.gestureHistory[e.type].push(e),2===g.gestureHistory[e.type].length&&(i=g.gestureHistory[e.type][0],e._direction===i._direction&&(l=e.timestamp-i.timestamp,l<g.metaGestureMaxDelay))){var n=new DualSwipe(e,i,e._direction);g.gestureCallback&&g.gestureCallback.call(g.gestureScope||g,n);var o=document.createEvent("Event");if(o.initEvent("leap-"+n.type,!0,!0),o.state=e.state,o.gesture=n,document.body.dispatchEvent(o),g.enableDefaultMetaGestureActions)switch(n.direction){case"left":history.back();break;case"right":history.forward();break;case"up":break;case"down":}}for(;g.gestureHistory[e.type].length>1;)g.gestureHistory[e.type].shift()}})}}}();